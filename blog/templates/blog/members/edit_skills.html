{% extends 'blog/base.html' %}
{% load static %}

{% block title %}編輯技能標籤{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'blog/css/members/edit_skills.css' %}">
{% endblock %}

{% block content %}
{% if messages %}
<div class="messages-container">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">
        {{ message }}
    </div>
    {% endfor %}
</div>
{% endif %}

<div class="edit-skills-container">
    <div class="edit-card">
        <h1>編輯技能標籤</h1>
        <p>選擇或新增您擅長的技能，讓其他會員更了解您的專長</p>

        <form method="post">
            {% csrf_token %}

            <!-- 技能標籤 -->
            <div class="form-section">
                <h2>技能標籤管理</h2>

                <div class="form-group">
                    <label for="skill-input">技能標籤</label>
                    <p class="form-help">輸入技能後按 Enter、逗號或分號新增，點擊標籤可刪除</p>

                    <!-- 常見技能快速選擇 -->
                    <div class="quick-skills">
                        <p>快速選擇：</p>
                        <div class="quick-skills-grid">
                            <button type="button" class="quick-skill-btn" data-skill="Python">Python</button>
                            <button type="button" class="quick-skill-btn" data-skill="Django">Django</button>
                            <button type="button" class="quick-skill-btn" data-skill="JavaScript">JavaScript</button>
                            <button type="button" class="quick-skill-btn" data-skill="HTML">HTML</button>
                            <button type="button" class="quick-skill-btn" data-skill="CSS">CSS</button>
                            <button type="button" class="quick-skill-btn" data-skill="React">React</button>
                            <button type="button" class="quick-skill-btn" data-skill="Vue.js">Vue.js</button>
                            <button type="button" class="quick-skill-btn" data-skill="Node.js">Node.js</button>
                            <button type="button" class="quick-skill-btn" data-skill="SQL">SQL</button>
                            <button type="button" class="quick-skill-btn" data-skill="Git">Git</button>
                            <button type="button" class="quick-skill-btn" data-skill="Docker">Docker</button>
                            <button type="button" class="quick-skill-btn" data-skill="機器學習">機器學習</button>
                            <button type="button" class="quick-skill-btn" data-skill="資料分析">資料分析</button>
                            <button type="button" class="quick-skill-btn" data-skill="前端開發">前端開發</button>
                            <button type="button" class="quick-skill-btn" data-skill="後端開發">後端開發</button>
                            <button type="button" class="quick-skill-btn" data-skill="UI/UX設計">UI/UX設計</button>
                        </div>
                    </div>

                    <!-- 技能標籤顯示區 -->
                    <div id="skills-display" class="skills-display">
                        <!-- 技能標籤將在這裡動態顯示 -->
                    </div>

                    <!-- 輸入框 -->
                    <input type="text" id="skill-input" class="form-control" placeholder="輸入自訂技能...">

                    <!-- 隱藏的表單字段用於提交 -->
                    <input type="hidden" name="skills" id="skills-hidden"
                        value="{% for skill in current_skills %}{{ skill.name }}{% if not forloop.last %},{% endif %}{% endfor %}">
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">儲存變更</button>
                <a href="{% url 'member' %}" class="btn btn-secondary">取消</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'blog/js/members/edit_skills.js' %}"></script>
{% endblock %}
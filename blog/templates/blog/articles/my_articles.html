{% extends 'blog/base.html' %}
{% load static %}
{% load blog_extras %}

{% block title %}æˆ‘çš„æ–‡ç«  - RuDjango{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'blog/css/articles/list.css' %}">
<link rel="stylesheet" href="{% static 'blog/css/articles/my_articles.css' %}">
{% endblock %}

{% block content %}
<div class="my-articles-header">
    <h1>ğŸ“š æˆ‘çš„æ–‡ç« </h1>
    <div class="stats">
        <span>å…± {{ articles.count }} ç¯‡æ–‡ç« </span>
    </div>
</div>

<!-- å¿«é€Ÿå°èˆªå€ -->
<div class="quick-nav-section">
    <div class="container">
        <div class="nav-buttons">
            <a href="{% url 'blog_home' %}" class="nav-btn">
                <span class="nav-icon">ğŸ </span>
                <span class="nav-text">è¿”å›é¦–é </span>
            </a>
            <a href="{% url 'member' %}" class="nav-btn">
                <span class="nav-icon">ğŸ‘¤</span>
                <span class="nav-text">æœƒå“¡ä¸­å¿ƒ</span>
            </a>
            <a href="{% url 'article_create' %}" class="nav-btn nav-btn-primary">
                <span class="nav-icon">âœï¸</span>
                <span class="nav-text">ç™¼è¡¨æ–°æ–‡ç« </span>
            </a>
        </div>
    </div>
</div>

<section class="articles-section">
    <div class="container">
        {% if articles %}
        <div class="articles-grid">
            {% for article in articles %}
            <article class="article-card">
                <div class="article-header">
                    <h3 class="article-title">
                        <a href="{% url 'article_detail' article.id %}" style="color: inherit; text-decoration: none;"
                            title="{{ article.title }}">
                            {{ article.title|highlight_mentions|truncatechars:40 }}
                        </a>
                    </h3>
                    <time class="article-date">{{ article.created_at|date:"Yå¹´mæœˆdæ—¥" }}</time>
                </div>
                <div class="article-content">
                    <p>{{ article.content|highlight_mentions|truncatewords:30 }}</p>
                </div>
                <div class="article-meta">
                    <span>ğŸ“… ç™¼è¡¨æ–¼ {{ article.created_at|date:"Y-m-d H:i" }}</span>
                    {% if article.updated_at != article.created_at %}
                    <span>ğŸ”„ æ›´æ–°æ–¼ {{ article.updated_at|date:"Y-m-d H:i" }}</span>
                    {% endif %}
                </div>
                <div class="article-actions">
                    <a href="{% url 'article_detail' article.id %}" class="btn-action"
                        style="background: #667eea; color: white;">ğŸ“– æŸ¥çœ‹</a>
                    <a href="{% url 'article_edit' article.id %}" class="btn-action btn-edit">âœï¸ ç·¨è¼¯</a>
                    <a href="{% url 'article_delete' article.id %}?next={{ request.path }}" class="btn-action btn-delete">ğŸ—‘ï¸ åˆªé™¤</a>
                </div>
            </article>
            {% endfor %}
        </div>
        {% else %}
        <div class="no-articles">
            <p>ğŸ“ æ‚¨é‚„æ²’æœ‰ç™¼è¡¨ä»»ä½•æ–‡ç« </p>
            <a href="{% url 'article_create' %}" class="btn-create">ç«‹å³ç™¼è¡¨ç¬¬ä¸€ç¯‡æ–‡ç« </a>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}
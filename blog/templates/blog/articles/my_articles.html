{% extends 'blog/base.html' %}
{% load static %}

{% block title %}æˆ‘çš„æ–‡ç«  - RuDjango{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'blog/css/home.css' %}">
<style>
    .my-articles-header {
        max-width: 1200px;
        margin: 2rem auto;
        padding: 2rem;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 16px;
        color: white;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 1rem;
    }

    .my-articles-header h1 {
        margin: 0;
        font-size: 2rem;
    }

    .my-articles-header .stats {
        display: flex;
        gap: 2rem;
        font-size: 1.1rem;
    }

    .btn-create {
        display: inline-block;
        padding: 0.875rem 1.75rem;
        background: white;
        color: #667eea;
        text-decoration: none;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .btn-create:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }

    .article-actions {
        display: flex;
        gap: 0.5rem;
        margin-top: 1rem;
    }

    .btn-action {
        padding: 0.5rem 1rem;
        border-radius: 6px;
        text-decoration: none;
        font-size: 0.875rem;
        font-weight: 600;
        transition: all 0.3s ease;
        display: inline-block;
    }

    .btn-edit {
        background: #48bb78;
        color: white;
    }

    .btn-edit:hover {
        background: #38a169;
    }

    .btn-delete {
        background: #f56565;
        color: white;
    }

    .btn-delete:hover {
        background: #e53e3e;
    }

    .article-meta {
        display: flex;
        gap: 1.5rem;
        flex-wrap: wrap;
        margin-top: 0.5rem;
        color: #718096;
        font-size: 0.875rem;
    }

    .no-articles {
        text-align: center;
        padding: 4rem 2rem;
        max-width: 600px;
        margin: 2rem auto;
        background: white;
        border-radius: 16px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    .no-articles p {
        font-size: 1.25rem;
        color: #4a5568;
        margin-bottom: 1.5rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="my-articles-header">
    <div>
        <h1>ğŸ“š æˆ‘çš„æ–‡ç« </h1>
        <div class="stats">
            <span>å…± {{ articles.count }} ç¯‡æ–‡ç« </span>
        </div>
    </div>
    <a href="{% url 'article_create' %}" class="btn-create">âœï¸ ç™¼è¡¨æ–°æ–‡ç« </a>
</div>

<section class="articles-section">
    <div class="container">
        {% if articles %}
        <div class="articles-grid">
            {% for article in articles %}
            <article class="article-card">
                <div class="article-header">
                    <h3 class="article-title">
                        <a href="{% url 'article_detail' article.id %}" style="color: inherit; text-decoration: none;"
                            title="{{ article.title }}">
                            {{ article.title|truncatechars:40 }}
                        </a>
                    </h3>
                    <time class="article-date">{{ article.created_at|date:"Yå¹´mæœˆdæ—¥" }}</time>
                </div>
                <div class="article-content">
                    <p>{{ article.content|truncatewords:30 }}</p>
                </div>
                <div class="article-meta">
                    <span>ğŸ“… ç™¼è¡¨æ–¼ {{ article.created_at|date:"Y-m-d H:i" }}</span>
                    {% if article.updated_at != article.created_at %}
                    <span>ğŸ”„ æ›´æ–°æ–¼ {{ article.updated_at|date:"Y-m-d H:i" }}</span>
                    {% endif %}
                </div>
                <div class="article-actions">
                    <a href="{% url 'article_detail' article.id %}" class="btn-action"
                        style="background: #667eea; color: white;">ğŸ“– æŸ¥çœ‹</a>
                    <a href="{% url 'article_edit' article.id %}" class="btn-action btn-edit">âœï¸ ç·¨è¼¯</a>
                    <a href="{% url 'article_delete' article.id %}" class="btn-action btn-delete">ğŸ—‘ï¸ åˆªé™¤</a>
                </div>
            </article>
            {% endfor %}
        </div>
        {% else %}
        <div class="no-articles">
            <p>ğŸ“ æ‚¨é‚„æ²’æœ‰ç™¼è¡¨ä»»ä½•æ–‡ç« </p>
            <a href="{% url 'article_create' %}" class="btn-create">ç«‹å³ç™¼è¡¨ç¬¬ä¸€ç¯‡æ–‡ç« </a>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}